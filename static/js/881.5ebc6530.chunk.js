"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[881],{881:function(e,t,r){r.r(t),r.d(t,{default:function(){return g}});var s=r(861),a=r(439),n=r(757),c=r.n(n),o=r(791),i="Movies_searchForm__J4-xw",l="Movies_input__KrUqs",u="Movies_btn__TlfBQ",h="Movies_searchList__acL74",m="Movies_searchItem__mdXQx",f="Movies_searchCaption__iy7AS",_=r(91),p=r(692),v=r(639),d=r(87),x=r(689),j=r(562),y=r(184),g=function(){var e,t,r=(0,o.useState)([]),n=(0,a.Z)(r,2),g=n[0],k=n[1],w=(0,o.useState)(!1),b=(0,a.Z)(w,2),N=b[0],S=b[1],M=(0,d.lr)(),C=(0,a.Z)(M,2),L=C[0],Z=C[1],q=null!==(e=null!==(t=L.get("query"))&&void 0!==t?t:JSON.parse(localStorage.getItem("query")))&&void 0!==e?e:"",I=(0,x.TH)(),Q=(0,o.useRef)(!0);(0,o.useEffect)((function(){Q.current?Q.current=!1:q?(0,s.Z)(c().mark((function e(){var t,r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,S(!0),e.next=4,(0,_.HI)(q);case 4:t=e.sent,r=t.data,k(r.results),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:return e.prev=12,S(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[0,9,12,15]])})))():j.Notify.info("The search string should\n't be an empty ")}),[q]);return(0,y.jsxs)("section",{children:[(0,y.jsxs)("form",{className:i,onSubmit:function(e){e.preventDefault();var t=e.target.searchQuery.value;Z(""!==t.trim().toLowerCase()?{query:t.trim().toLowerCase()}:{})},children:[(0,y.jsx)("input",{defaultValue:q,type:"text",name:"searchQuery",className:l,placeholder:"I'm looking for... "}),(0,y.jsxs)("button",{type:"submit",className:u,children:[(0,y.jsx)(p.Goc,{}),"Search"]})]}),N?(0,y.jsx)(v.Z,{}):(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)("h3",{className:f,children:q?"Search results for: '".concat(q,"'"):"Please enter a movie title"}),g&&(0,y.jsx)("ul",{className:h,children:g.map((function(e){var t=e.id,r=e.original_title;return(0,y.jsx)("li",{className:m,children:(0,y.jsxs)(d.OL,{to:"".concat(t),state:{from:I},children:[(0,y.jsx)(p.lU2,{}),r]})},t)}))})]})]})}}}]);
//# sourceMappingURL=881.5ebc6530.chunk.js.map