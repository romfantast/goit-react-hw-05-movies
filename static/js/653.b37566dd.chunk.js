"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[653],{653:function(e,t,r){r.r(t),r.d(t,{default:function(){return j}});var s=r(861),a=r(439),n=r(757),c=r.n(n),o=r(791),i="Movies_searchForm__S-9T7",l="Movies_input__OE3ef",u="Movies_btn__0UPE6",m="Movies_searchList__6eDvk",f="Movies_searchItem__aEEd+",h="Movies_searchCaption__uvCB0",_=r(91),v=r(692),p=r(639),d=r(87),x=r(689),g=r(184),j=function(){var e,t,r=(0,o.useState)([]),n=(0,a.Z)(r,2),j=n[0],S=n[1],y=(0,o.useState)(!1),k=(0,a.Z)(y,2),N=k[0],w=k[1],b=(0,d.lr)(),C=(0,a.Z)(b,2),I=C[0],M=C[1],q=null!==(e=null!==(t=I.get("query"))&&void 0!==t?t:JSON.parse(localStorage.getItem("query")))&&void 0!==e?e:"",E=(0,x.TH)();(0,o.useEffect)((function(){if(q)return(0,s.Z)(c().mark((function e(){var t,r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,w(!0),e.next=4,(0,_.HI)(q);case 4:t=e.sent,r=t.data,localStorage.setItem("query",JSON.stringify(q)),S(r.results),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:return e.prev=13,w(!1),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[0,10,13,16]])})))(),function(){return localStorage.setItem("query",JSON.stringify(q))}}),[q]);return(0,g.jsxs)("section",{children:[(0,g.jsxs)("form",{className:i,onSubmit:function(e){e.preventDefault();var t=e.target.searchQuery.value;M(""!==t.trim().toLowerCase()?{query:t.trim().toLowerCase()}:{})},children:[(0,g.jsx)("input",{defaultValue:q,type:"text",name:"searchQuery",className:l,placeholder:"I'm looking for... "}),(0,g.jsxs)("button",{type:"submit",className:u,children:[(0,g.jsx)(v.Goc,{}),"Search"]})]}),N?(0,g.jsx)(p.Z,{}):(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("h3",{className:h,children:q?"Search results for: '".concat(q,"'"):"Please enter a movie title"}),j&&(0,g.jsx)("ul",{className:m,children:j.map((function(e){var t=e.id,r=e.original_title;return(0,g.jsx)("li",{className:f,children:(0,g.jsxs)(d.OL,{to:"".concat(t),state:{from:E},children:[(0,g.jsx)(v.lU2,{}),r]})},t)}))})]})]})}}}]);
//# sourceMappingURL=653.b37566dd.chunk.js.map