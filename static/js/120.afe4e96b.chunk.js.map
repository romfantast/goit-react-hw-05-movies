{"version":3,"file":"static/js/120.afe4e96b.chunk.js","mappings":"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","sources":["webpack://react-homework-template/./src/pages/MovieDetails/MovieDetails.module.css?0c24","components/helpers/showGenres.js","pages/MovieDetails/MovieDetails.jsx","components/helpers/howMuchStars.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"movieDetailsSection\":\"MovieDetails_movieDetailsSection__P4-Qq\",\"movieDetailsWrapper\":\"MovieDetails_movieDetailsWrapper__GNaOX\",\"backLink\":\"MovieDetails_backLink__dzd-p\",\"error\":\"MovieDetails_error__uOHXe\",\"imageWrapper\":\"MovieDetails_imageWrapper__Racpx\",\"imagePreview\":\"MovieDetails_imagePreview__YGEzs\",\"additionalCast\":\"MovieDetails_additionalCast__OmsI6\",\"additionalReview\":\"MovieDetails_additionalReview__3QAKO\",\"additional\":\"MovieDetails_additional__+f3rh\",\"detail\":\"MovieDetails_detail__ZJ+CR\",\"active\":\"MovieDetails_active__uPNdW\",\"details\":\"MovieDetails_details__TGlfg\",\"starIcon\":\"MovieDetails_starIcon__E7t+d\",\"iconErrorInfo\":\"MovieDetails_iconErrorInfo__EloQH\"};","export const showGenres = genres => {\n  const genresArray = [];\n  for (let genre of genres) {\n    genresArray.push(genre.name);\n  }\n  return genresArray.join(', ');\n};\n","import React, { Suspense, useEffect, useState } from 'react';\nimport Loader from 'components/Loader/Loader';\nimport { NavLink, Outlet, useLocation, useParams } from 'react-router-dom';\nimport { MdErrorOutline } from 'react-icons/md';\nimport { getMovieDetails } from 'services/movie-api';\nimport css from './MovieDetails.module.css';\nimport { howMuchStars } from 'components/helpers/howMuchStars';\nimport { showGenres } from 'components/helpers/showGenres';\nimport { LazyLoadImage } from 'react-lazy-load-image-component';\n\nconst MovieDetails = () => {\n  const [movie, setMovie] = useState(null);\n  const [isLoading, setIsLoading] = useState(false);\n  const [star, setStar] = useState(null);\n  const [starsList, setStarsList] = useState([]);\n  const [isError, setIsError] = useState(false);\n  const { movieId } = useParams();\n  const location = useLocation();\n\n  useEffect(() => {\n    (async () => {\n      try {\n        setIsLoading(true);\n        const { data } = await getMovieDetails(movieId);\n        setMovie(data);\n      } catch (error) {\n        console.log(error);\n        setIsError(true);\n      } finally {\n        setIsLoading(false);\n      }\n    })();\n  }, [movieId]);\n\n  useEffect(() => {\n    howMuchStars(star, setStar, setStarsList, movie?.vote_average);\n  }, [star, movie]);\n\n  return (\n    <section className={css.movieDetailsSection}>\n      <NavLink to={location.state?.from ?? '/movies'} className={css.backLink}>\n        Back\n      </NavLink>\n      {isLoading && <Loader />}\n      {isError && (\n        <div className={css.error}>\n          <MdErrorOutline className={css.iconErrorInfo} />\n          Something went wrong...\n        </div>\n      )}\n\n      {movie && (\n        <>\n          <div className={css.movieDetailsWrapper}>\n            <div className={css.imageWrapper}>\n              <LazyLoadImage\n                effect=\"blur\"\n                className={css.imagePreview}\n                src={\n                  movie.backdrop_path\n                    ? `http://image.tmdb.org/t/p/w500/${movie.backdrop_path}`\n                    : 'http://bcibelisle.com/wp-content/uploads/2017/05/img_placeholder.png'\n                }\n                alt=\"\"\n              />\n            </div>\n            <div className={css.details}>\n              <p>\n                <b>{movie.original_title}</b>\n              </p>\n              <p>\n                Rating: {movie.vote_average}\n                &nbsp;{starsList}\n              </p>\n              <hr />\n              <p>\n                <b>Overview:</b>\n              </p>\n              <p>{movie.overview}</p>\n              <hr />\n              <p>\n                <b>Genres: </b>\n              </p>\n              <p>{showGenres(movie.genres)}</p>\n              <hr />\n            </div>\n          </div>\n          <h4>Additional information: </h4>\n          <div className={css.additional}>\n            <NavLink\n              to=\"cast\"\n              className={({ isActive }) => (isActive ? css.active : css.detail)}\n              state={{ from: location.state?.from ?? '/' }}\n            >\n              Cast\n            </NavLink>\n            <br />\n            <NavLink\n              to=\"review\"\n              className={({ isActive }) => (isActive ? css.active : css.detail)}\n              state={{ from: location.state?.from ?? '/' }}\n            >\n              Review\n            </NavLink>\n          </div>\n          <hr />\n          <div>\n            <Suspense fallback={null}>\n              <Outlet />\n            </Suspense>\n          </div>\n        </>\n      )}\n    </section>\n  );\n};\n\nexport default MovieDetails;\n","import { AiFillStar } from 'react-icons/ai';\nimport css from '../../pages/MovieDetails/MovieDetails.module.css';\n\nexport const howMuchStars = (star, setStar, setStarsList, rating) => {\n  if (!rating) {\n    return;\n  }\n  if (Number(rating) < 3) {\n    setStar(1);\n    for (let i = 0; i < star; i++) {\n      setStarsList(prev => [\n        ...prev,\n        <AiFillStar key={i} className={css.starIcon} />,\n      ]);\n    }\n  } else if (Number(rating) >= 3 && Number(rating) < 5) {\n    setStar(2);\n    for (let i = 0; i < star; i++) {\n      setStarsList(prev => [\n        ...prev,\n        <AiFillStar key={i} className={css.starIcon} />,\n      ]);\n    }\n  } else if (Number(rating) >= 5 && Number(rating) < 7) {\n    setStar(3);\n    for (let i = 0; i < star; i++) {\n      setStarsList(prev => [\n        ...prev,\n        <AiFillStar key={i} className={css.starIcon} />,\n      ]);\n    }\n  } else if (Number(rating) >= 7 && Number(rating) < 9) {\n    setStar(4);\n    for (let i = 0; i < star; i++) {\n      setStarsList(prev => [\n        ...prev,\n        <AiFillStar key={i} className={css.starIcon} />,\n      ]);\n    }\n  } else if (Number(rating) >= 9 && Number(rating) <= 10) {\n    setStar(5);\n    for (let i = 0; i < star; i++) {\n      setStarsList(prev => [\n        ...prev,\n        <AiFillStar key={i} className={css.starIcon} />,\n      ]);\n    }\n  }\n};\n"],"names":["showGenres","genres","genresArray","genre","push","name","join","useState","movie","setMovie","isLoading","setIsLoading","star","setStar","starsList","setStarsList","isError","setIsError","movieId","useParams","location","useLocation","useEffect","getMovieDetails","data","console","log","rating","Number","i","prev","className","css","howMuchStars","vote_average","to","state","from","Loader","LazyLoadImage","effect","src","backdrop_path","alt","original_title","overview","isActive","Suspense","fallback"],"sourceRoot":""}