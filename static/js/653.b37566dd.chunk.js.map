{"version":3,"file":"static/js/653.b37566dd.chunk.js","mappings":"oOACA,EAA6B,2BAA7B,EAAgE,sBAAhE,EAA4F,oBAA5F,EAA6H,2BAA7H,EAAqK,2BAArK,EAAgN,8B,oDCuFhN,EAjFe,WAAO,IAAD,IACnB,GAA0BA,EAAAA,EAAAA,UAAS,IAAnC,eAAOC,EAAP,KAAcC,EAAd,KACA,GAAkCF,EAAAA,EAAAA,WAAS,GAA3C,eAAOG,EAAP,KAAkBC,EAAlB,KACA,GAAwCC,EAAAA,EAAAA,MAAxC,eAAOC,EAAP,KAAqBC,EAArB,KACMC,EAAW,oBACfF,EAAaG,IAAI,gBADF,QAEfC,KAAKC,MAAMC,aAAaC,QAAQ,iBAFjB,QAGf,GACIC,GAAWC,EAAAA,EAAAA,OAEjBC,EAAAA,EAAAA,YAAU,WACR,GAAKR,EAcL,OAbA,iBAAC,sGAEGJ,GAAa,GAFhB,UAG0Ba,EAAAA,EAAAA,IAAST,GAHnC,gBAGWU,EAHX,EAGWA,KACRN,aAAaO,QAAQ,QAAST,KAAKU,UAAUZ,IAC7CN,EAASgB,EAAKG,SALjB,kDAOGC,QAAQC,IAAR,MAPH,yBASGnB,GAAa,GAThB,4EAAD,GAaO,kBAAMQ,aAAaO,QAAQ,QAAST,KAAKU,UAAUZ,GAAnD,CACR,GAAE,CAACA,IAYJ,OACE,gCACE,kBAAMgB,UAAWC,EAAgBC,SAZf,SAAAC,GACpBA,EAAEC,iBACF,IAAQC,EAAUF,EAAEG,OAAOtB,YAAnBqB,MACRtB,EACiC,KAA/BsB,EAAME,OAAOC,cACT,CAAEC,MAAOJ,EAAME,OAAOC,eACtB,CAAC,EAER,EAIG,WACE,kBACEE,aAAc1B,EACd2B,KAAK,OACLC,KAAK,cACLZ,UAAWC,EACXY,YAAY,yBAEd,oBAAQF,KAAK,SAASX,UAAWC,EAAjC,WACE,SAAC,MAAD,IADF,eAKDtB,GACC,SAACmC,EAAA,EAAD,KAEA,iCACE,eAAId,UAAWC,EAAf,SACGjB,EAAW,+BACgBA,EADhB,KAER,+BAGLP,IACC,eAAIuB,UAAWC,EAAf,SACGxB,EAAMsC,KAAI,gBAAGC,EAAH,EAAGA,GAAIC,EAAP,EAAOA,eAAP,OACT,eAAajB,UAAWC,EAAxB,UACE,UAAC,KAAD,CAASiB,GAAE,UAAKF,GAAMG,MAAO,CAAEC,KAAM9B,GAArC,WACE,SAAC,MAAD,IACC2B,MAHID,EADA,WAcxB,C","sources":["webpack://react-homework-template/./src/components/Movies/Movies.module.css?9f30","components/Movies/Movies.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"searchForm\":\"Movies_searchForm__S-9T7\",\"input\":\"Movies_input__OE3ef\",\"btn\":\"Movies_btn__0UPE6\",\"searchList\":\"Movies_searchList__6eDvk\",\"searchItem\":\"Movies_searchItem__aEEd+\",\"searchCaption\":\"Movies_searchCaption__uvCB0\"};","import React, { useState, useEffect } from 'react';\nimport css from './Movies.module.css';\nimport { getMovie } from 'services/movie-api';\nimport { BiChevronRight, BiSearch } from 'react-icons/bi';\nimport Loader from 'components/Loader/Loader';\nimport { NavLink, useLocation, useSearchParams } from 'react-router-dom';\n\nconst Movies = () => {\n  const [movie, setMovie] = useState([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const [searchParams, setSearchParams] = useSearchParams();\n  const searchQuery =\n    searchParams.get('query') ??\n    JSON.parse(localStorage.getItem('query')) ??\n    '';\n  const location = useLocation();\n\n  useEffect(() => {\n    if (!searchQuery) return;\n    (async () => {\n      try {\n        setIsLoading(true);\n        const { data } = await getMovie(searchQuery);\n        localStorage.setItem('query', JSON.stringify(searchQuery));\n        setMovie(data.results);\n      } catch (error) {\n        console.log(error);\n      } finally {\n        setIsLoading(false);\n      }\n    })();\n\n    return () => localStorage.setItem('query', JSON.stringify(searchQuery));\n  }, [searchQuery]);\n\n  const handlerSubmit = e => {\n    e.preventDefault();\n    const { value } = e.target.searchQuery;\n    setSearchParams(\n      value.trim().toLowerCase() !== ''\n        ? { query: value.trim().toLowerCase() }\n        : {}\n    );\n  };\n\n  return (\n    <section>\n      <form className={css.searchForm} onSubmit={handlerSubmit}>\n        <input\n          defaultValue={searchQuery}\n          type=\"text\"\n          name=\"searchQuery\"\n          className={css.input}\n          placeholder=\"I'm looking for... \"\n        />\n        <button type=\"submit\" className={css.btn}>\n          <BiSearch />\n          Search\n        </button>\n      </form>\n      {isLoading ? (\n        <Loader />\n      ) : (\n        <>\n          <h3 className={css.searchCaption}>\n            {searchQuery\n              ? `Search results for: '${searchQuery}'`\n              : 'Please enter a movie title'}\n          </h3>\n\n          {movie && (\n            <ul className={css.searchList}>\n              {movie.map(({ id, original_title }) => (\n                <li key={id} className={css.searchItem}>\n                  <NavLink to={`${id}`} state={{ from: location }}>\n                    <BiChevronRight />\n                    {original_title}\n                  </NavLink>\n                </li>\n              ))}\n            </ul>\n          )}\n        </>\n      )}\n    </section>\n  );\n};\n\nexport default Movies;\n"],"names":["useState","movie","setMovie","isLoading","setIsLoading","useSearchParams","searchParams","setSearchParams","searchQuery","get","JSON","parse","localStorage","getItem","location","useLocation","useEffect","getMovie","data","setItem","stringify","results","console","log","className","css","onSubmit","e","preventDefault","value","target","trim","toLowerCase","query","defaultValue","type","name","placeholder","Loader","map","id","original_title","to","state","from"],"sourceRoot":""}