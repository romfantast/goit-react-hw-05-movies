{"version":3,"file":"static/js/372.1c3a26c2.chunk.js","mappings":"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","sources":["webpack://react-homework-template/./src/components/MovieDetails/MovieDetails.module.css?9ca9","components/helpers/howMuchStars.js","components/helpers/showGenres.js","components/MovieDetails/MovieDetails.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"movieDetailsSection\":\"MovieDetails_movieDetailsSection__nzG3h\",\"movieDetailsWrapper\":\"MovieDetails_movieDetailsWrapper__kPD86\",\"backLink\":\"MovieDetails_backLink__haiys\",\"error\":\"MovieDetails_error__lrgH3\",\"imageWrapper\":\"MovieDetails_imageWrapper__ImpNM\",\"imagePreview\":\"MovieDetails_imagePreview__ULErZ\",\"additionalCast\":\"MovieDetails_additionalCast__-9fQh\",\"additionalReview\":\"MovieDetails_additionalReview__amijZ\",\"additional\":\"MovieDetails_additional__EaCvI\",\"detail\":\"MovieDetails_detail__sq73z\",\"active\":\"MovieDetails_active__nw0x6\",\"details\":\"MovieDetails_details__tmd20\",\"starIcon\":\"MovieDetails_starIcon__MNh0Y\"};","import { AiFillStar } from 'react-icons/ai';\nimport css from '../MovieDetails/MovieDetails.module.css';\n\nexport const howMuchStars = (star, setStar, setStarsList, rating) => {\n  if (!rating) {\n    return;\n  }\n  if (Number(rating) < 3) {\n    setStar(1);\n    for (let i = 0; i < star; i++) {\n      setStarsList(prev => [\n        ...prev,\n        <AiFillStar key={i} className={css.starIcon} />,\n      ]);\n    }\n  } else if (Number(rating) >= 3 && Number(rating) < 5) {\n    setStar(2);\n    for (let i = 0; i < star; i++) {\n      setStarsList(prev => [\n        ...prev,\n        <AiFillStar key={i} className={css.starIcon} />,\n      ]);\n    }\n  } else if (Number(rating) >= 5 && Number(rating) < 7) {\n    setStar(3);\n    for (let i = 0; i < star; i++) {\n      setStarsList(prev => [\n        ...prev,\n        <AiFillStar key={i} className={css.starIcon} />,\n      ]);\n    }\n  } else if (Number(rating) >= 7 && Number(rating) < 9) {\n    setStar(4);\n    for (let i = 0; i < star; i++) {\n      setStarsList(prev => [\n        ...prev,\n        <AiFillStar key={i} className={css.starIcon} />,\n      ]);\n    }\n  } else if (Number(rating) >= 9 && Number(rating) <= 10) {\n    setStar(5);\n    for (let i = 0; i < star; i++) {\n      setStarsList(prev => [\n        ...prev,\n        <AiFillStar key={i} className={css.starIcon} />,\n      ]);\n    }\n  }\n};\n","export const showGenres = genres => {\n  const genresArray = [];\n  for (let genre of genres) {\n    genresArray.push(genre.name);\n  }\n  return genresArray.join(', ');\n};\n","import React, { Suspense, useEffect, useState } from 'react';\nimport Loader from 'components/Loader/Loader';\nimport { NavLink, Outlet, useLocation, useParams } from 'react-router-dom';\nimport { MdErrorOutline } from 'react-icons/md';\nimport { getMovieDetails } from 'services/movie-api';\nimport css from './MovieDetails.module.css';\nimport { howMuchStars } from 'components/helpers/howMuchStars';\nimport { showGenres } from 'components/helpers/showGenres';\n\nconst MovieDetails = () => {\n  const [movie, setMovie] = useState(null);\n  const [isLoading, setIsLoading] = useState(false);\n  const [star, setStar] = useState(null);\n  const [starsList, setStarsList] = useState([]);\n  const [isError, setIsError] = useState(false);\n  const { movieId } = useParams();\n  const location = useLocation();\n\n  useEffect(() => {\n    (async () => {\n      try {\n        setIsLoading(true);\n        const { data } = await getMovieDetails(movieId);\n        howMuchStars(star, setStar, setStarsList, data.vote_average);\n        setMovie(data);\n      } catch (error) {\n        console.log(error);\n        setIsError(true);\n      } finally {\n        setIsLoading(false);\n      }\n    })();\n  }, [movieId, star]);\n\n  return (\n    <section className={css.movieDetailsSection}>\n      <NavLink to={location.state?.from ?? '/movies'} className={css.backLink}>\n        Back\n      </NavLink>\n      {isLoading && <Loader />}\n      {isError && (\n        <div className={css.error}>\n          <MdErrorOutline />\n          Something went wrong...\n        </div>\n      )}\n\n      {movie && (\n        <>\n          <div className={css.movieDetailsWrapper}>\n            <div className={css.imageWrapper}>\n              <img\n                className={css.imagePreview}\n                src={\n                  movie.backdrop_path\n                    ? `http://image.tmdb.org/t/p/w500/${movie.backdrop_path}`\n                    : 'http://bcibelisle.com/wp-content/uploads/2017/05/img_placeholder.png'\n                }\n                alt=\"\"\n              />\n            </div>\n            <div className={css.details}>\n              <p>\n                <b>{movie.original_title}</b>\n              </p>\n              <p>\n                Rating: {movie.vote_average} &nbsp;{starsList}\n              </p>\n              <hr />\n              <p>\n                <b>Overview:</b>\n              </p>\n              <p>{movie.overview}</p>\n              <hr />\n              <p>\n                <b>Genres: </b>\n              </p>\n              <p>{showGenres(movie.genres)}</p>\n              <hr />\n            </div>\n          </div>\n          <h4>Additional information: </h4>\n          <div className={css.additional}>\n            <NavLink\n              to=\"cast\"\n              className={({ isActive }) => (isActive ? css.active : css.detail)}\n              state={{ from: location.state?.from ?? '/' }}\n            >\n              Cast\n            </NavLink>\n            <br />\n            <NavLink\n              to=\"review\"\n              className={({ isActive }) => (isActive ? css.active : css.detail)}\n              state={{ from: location.state?.from ?? '/' }}\n            >\n              Review\n            </NavLink>\n          </div>\n          <hr />\n          <Suspense fallback={<Loader />}>\n            <Outlet />\n          </Suspense>\n        </>\n      )}\n    </section>\n  );\n};\n\nexport default MovieDetails;\n"],"names":["howMuchStars","star","setStar","setStarsList","rating","Number","i","prev","className","css","showGenres","genres","genresArray","genre","push","name","join","useState","movie","setMovie","isLoading","setIsLoading","starsList","isError","setIsError","movieId","useParams","location","useLocation","useEffect","getMovieDetails","data","vote_average","console","log","to","state","from","Loader","src","backdrop_path","alt","original_title","overview","isActive","Suspense","fallback"],"sourceRoot":""}